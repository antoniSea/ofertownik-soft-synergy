<!DOCTYPE html>
<html lang="{{lang}}" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{t.summaryTitle}} — {{projectName}} — Soft Synergy</title>
    <script src="https://cdn.tailwindcss.com"></script>

    
<!-- Hotjar Tracking Code for Ofertownik -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:6506237,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="/generated-offers/logo-removebg-preview.png">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0d1117; color: #c9d1d9; overflow-x: hidden; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Sora', sans-serif; color: #f0f6fc; }
        .gradient-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 15% 25%, rgba(59, 130, 246, 0.1), transparent 30%), radial-gradient(circle at 85% 75%, rgba(168, 85, 247, 0.1), transparent 30%); animation: move-glow 15s ease-in-out infinite alternate; }
        @keyframes move-glow { from { background-position: 0% 0%; } to { background-position: 100% 100%; } }
        .glass-card { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1rem; }
        @media print { 
            .no-print { display: none !important; } 
            body { 
                background-color: white !important; 
                color: black !important; 
                margin: 0 !important;
                padding: 0 !important;
            } 
            .print-bg-white { background-color: #f3f4f6 !important; border: 1px solid #e5e7eb; } 
            .print-text-black { color: black !important; } 
            .print-text-gray { color: #374151 !important; } 
            h1, h2, h3, h4, h5, h6 { color: black !important; } 
            .gradient-bg { display: none !important; } 
            section { 
                page-break-inside: avoid; 
                margin-bottom: 20px !important;
            }
            .page-break { page-break-before: always; }
            .container { max-width: none !important; margin: 0 !important; padding: 20px !important; }
        }
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1); }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .card-3d { transform-style: preserve-3d; transition: transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1); }
    </style>
</head>
<body class="antialiased">
    <div class="gradient-bg"></div>
    <div class="max-w-5xl mx-auto p-4 md:p-8 lg:p-12">
        
        <header class="glass-card p-8 mb-16 reveal">
            <div class="flex justify-between items-start flex-wrap gap-6">
                <div class="flex items-center gap-4">
                    <img src="https://oferty.soft-synergy.com/generated-offers/logo-removebg-preview.png" alt="Soft Synergy Logo" class="w-16 h-16 object-contain">
                    <div>
                        <h1 class="text-4xl font-extrabold bg-gradient-to-r from-blue-500 via-purple-500 to-blue-600 bg-clip-text text-transparent">
                            Soft<span class="text-blue-500">Synergy</span>
                        </h1>
                        <p class="text-slate-400 print-text-gray font-medium">{{t.companyTagline}}</p>
                    </div>
                </div>
                <div class="text-left sm:text-right">
                    <h2 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">{{t.summaryTitle}}</h2>
                    <p class="text-slate-400 print-text-gray mt-2">{{t.date}}: <span class="font-semibold text-slate-300 print-text-black">{{summaryDate}}</span></p>
                    <p class="text-slate-400 print-text-gray">{{t.number}}: <span class="font-semibold text-slate-300 print-text-black">{{summaryNumber}}</span></p>
                </div>
            </div>
            <div class="border-t border-white/10 my-6 h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-blue-600"></div>
            <div class="bg-gradient-to-r from-blue-600/10 to-purple-600/10 p-6 rounded-lg">
                <span class="text-slate-400 print-text-gray font-semibold">{{t.projectLabel}}</span>
                <p class="text-xl font-bold text-white print-text-black">{{projectName}}</p>
                <p class="text-slate-300 print-text-gray font-medium">{{t.clientLabel}}: {{clientName}}</p>
            </div>
        </header>

        <main class="space-y-24">
            
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-4">{{t.intro}}</h2>
                <div class="prose prose-invert max-w-none text-slate-300 text-lg leading-relaxed print-text-gray">
                    <p>{{t.introText}}</p>
                    {{#if summaryDescription}}
                        <p class="mt-4">{{summaryDescription}}</p>
                    {{/if}}
                </div>
            </section>

            <!-- PROJECT DETAILS -->
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">{{t.projectDetails}}</h2>
                <div class="glass-card p-8">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h3 class="text-lg font-semibold mb-2">{{t.projectName}}</h3>
                            <p class="text-slate-300 print-text-gray">{{projectName}}</p>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold mb-2">{{t.clientName}}</h3>
                            <p class="text-slate-300 print-text-gray">{{clientName}}</p>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold mb-2">{{t.period}}</h3>
                            <p class="text-slate-300 print-text-gray">{{periodStart}} - {{periodEnd}}</p>
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold mb-2">{{t.status}}</h3>
                            <p class="text-slate-300 print-text-gray">{{status}}</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- COMPLETED WORK -->
            {{#if completedTasks}}
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">{{t.completedWork}}</h2>
                <div class="space-y-6">
                    {{#each completedTasks}}
                    <div class="glass-card p-6 border-l-4 border-blue-500 hover:border-purple-500 transition-all">
                        <div class="flex items-start gap-4">
                            <div class="bg-gradient-to-br from-blue-500/20 to-purple-500/20 text-blue-400 font-bold text-2xl rounded-lg w-12 h-12 flex items-center justify-center flex-shrink-0">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                                </svg>
                            </div>
                            <div class="flex-1">
                                <h3 class="text-xl font-bold mb-2 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent">{{name}}</h3>
                                <p class="text-slate-400 print-text-gray mb-2">{{description}}</p>
                                {{#if date}}
                                <p class="text-sm text-blue-400 font-semibold">{{t.completedDate}}: {{date}}</p>
                                {{/if}}
                            </div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </section>
            {{/if}}

            <!-- KEY FEATURES -->
            {{#if keyFeatures}}
            <div class="page-break"></div>
            
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">{{t.keyFeatures}}</h2>
                <div class="space-y-8">
                    {{#each keyFeatures}}
                    <div class="glass-card p-6 flex items-start gap-6">
                        <div class="bg-{{#if color}}{{color}}{{else}}blue{{/if}}-500/20 text-{{#if color}}{{color}}{{else}}blue{{/if}}-400 font-bold text-2xl rounded-lg w-16 h-16 flex items-center justify-center flex-shrink-0">{{add @index 1}}</div>
                        <div>
                            <h3 class="text-xl font-bold mb-1">{{name}}</h3>
                            <p class="text-slate-400 print-text-gray">{{description}}</p>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </section>
            {{/if}}
            
            <!-- STATISTICS -->
            {{#if statistics}}
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">{{t.statistics}}</h2>
                <div class="grid md:grid-cols-3 gap-6">
                    {{#each statistics}}
                    <div class="glass-card p-6 text-center">
                        <div class="text-4xl font-bold text-blue-400 mb-2">{{value}}</div>
                        <div class="text-slate-400 print-text-gray">{{label}}</div>
                    </div>
                    {{/each}}
                </div>
            </section>
            {{/if}}
            
            <!-- TECHNICAL NOTES -->
            {{#if technicalNotes}}
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">{{t.technicalNotes}}</h2>
                <div class="glass-card p-8">
                    <div class="prose prose-invert max-w-none text-slate-300 print-text-gray">
                        <p>{{technicalNotes}}</p>
                    </div>
                </div>
            </section>
            {{/if}}
            
            <!-- ACHIEVEMENTS -->
            {{#if achievements}}
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">{{t.achievements}}</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    {{#each achievements}}
                    <div class="glass-card p-6 border-l-4 border-purple-500 hover:border-blue-500 transition-all hover:shadow-lg hover:shadow-purple-500/20">
                        <div class="flex items-center gap-4 mb-3">
                            <div class="bg-gradient-to-br from-purple-500/20 to-blue-500/20 text-purple-400 rounded-lg w-12 h-12 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                                </svg>
                            </div>
                            <h3 class="text-xl font-bold bg-gradient-to-r from-purple-400 to-blue-400 bg-clip-text text-transparent">{{name}}</h3>
                        </div>
                        <p class="text-slate-400 print-text-gray">{{description}}</p>
                    </div>
                    {{/each}}
                </div>
            </section>
            {{/if}}
            
            <div class="page-break"></div>
            
            <!-- NEXT STEPS -->
            <section class="reveal text-center">
                <h2 class="text-3xl font-bold mb-4">{{t.nextSteps}}</h2>
                <p class="max-w-2xl mx-auto text-slate-300 mb-8 print-text-gray text-lg">
                    Dokument zawiera kompletne zestawienie wykonanych prac. W przypadku pytań lub potrzeb dodatkowych informacji, prosimy o kontakt.
                </p>
                <div class="flex justify-center gap-6 no-print">
                    <a href="mailto:{{companyEmail}}?subject=Zapytanie dotyczące projektu - {{summaryNumber}}" class="bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold text-lg py-3 px-8 rounded-lg transition-all duration-300 hover:from-blue-500 hover:to-purple-500 hover:shadow-2xl hover:shadow-blue-500/40 transform hover:-translate-y-1">
                        Kontakt
                    </a>
                    {{#if workSummaryPdfUrl}}
                    <a href="https://oferty.soft-synergy.com{{workSummaryPdfUrl}}" target="_blank" rel="noopener" class="bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-white font-semibold py-3 px-8 rounded-lg border border-blue-500/50 transition-all hover:border-purple-500 hover:shadow-lg hover:shadow-purple-500/20">
                        {{t.downloadSummary}}
                    </a>
                    {{else}}
                    <button onclick="downloadHTML(event)" class="bg-gradient-to-r from-blue-500/20 to-purple-500/20 text-white font-semibold py-3 px-8 rounded-lg border border-blue-500/50 transition-all hover:border-purple-500 hover:shadow-lg hover:shadow-purple-500/20">
                        {{t.downloadSummary}}
                    </button>
                    {{/if}}
                </div>
            </section>

            <!-- INVOICE LINKS -->
            <section class="reveal">
                <div class="glass-card p-8 mt-10 text-center">
                    <h3 class="text-2xl font-bold mb-3">Faktury dla tego projektu</h3>
                    <p class="text-slate-300 print-text-gray mb-6">Soft Synergy przemyślało to za Ciebie — jeśli szukasz faktur do tego projektu, znajdziesz je poniżej.</p>
                    <div class="flex flex-col md:flex-row items-center justify-center gap-4">
                        {{#if proformaUrl}}
                        <a href="https://oferty.soft-synergy.com{{proformaUrl}}" target="_blank" rel="noopener" class="bg-white/10 text-white font-semibold py-3 px-6 rounded-lg transition-colors hover:bg-white/20">Pobierz Fakturę Proforma</a>
                        {{/if}}
                        {{#if vatUrl}}
                        <a href="https://oferty.soft-synergy.com{{vatUrl}}" target="_blank" rel="noopener" class="bg-white/10 text-white font-semibold py-3 px-6 rounded-lg transition-colors hover:bg-white/20">Pobierz Fakturę VAT</a>
                        {{/if}}
                        {{#unless proformaUrl}}
                        {{#unless vatUrl}}
                        <p class="text-slate-400">Brak podpiętych faktur dla tego projektu.</p>
                        {{/unless}}
                        {{/unless}}
                    </div>
                </div>
            </section>

            <!-- REVIEW REQUEST -->
            <section class="reveal">
                <div class="glass-card p-8 mt-10 text-center">
                    <h3 class="text-2xl font-bold mb-3">Twoja opinia jest dla nas bardzo ważna</h3>
                    <p class="text-slate-300 print-text-gray mb-6">Jeśli jesteś zadowolony ze współpracy, zostaw proszę krótką opinię o Soft Synergy. To bardzo pomaga nam rosnąć i docierać do nowych klientów.</p>
                    <a href="https://www.google.com/maps/place/Soft+Synergy/data=!4m2!3m1!1s0x0:0xf6e09ce57a8bc115?sa=X&ved=1t:2428&ictx=111" target="_blank" rel="noopener" class="inline-block bg-blue-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 hover:bg-blue-500 hover:shadow-2xl hover:shadow-blue-500/40 transform hover:-translate-y-1">Wystaw opinię na Google</a>
                </div>
            </section>
        </main>
        
        <footer class="text-center py-12 mt-16 border-t border-white/10 bg-gradient-to-b from-transparent to-blue-500/5">
            <div class="flex items-center justify-center gap-4 mb-4">
                <img src="https://oferty.soft-synergy.com/generated-offers/logo-removebg-preview.png" alt="Soft Synergy Logo" class="w-12 h-12 object-contain">
                <h3 class="text-2xl font-extrabold bg-gradient-to-r from-blue-500 via-purple-500 to-blue-600 bg-clip-text text-transparent">
                    Soft<span class="text-blue-500">Synergy</span>
                </h3>
            </div>
            <p class="text-sm text-slate-400 print-text-gray mb-2">Innowacyjne rozwiązania programistyczne</p>
            <p class="text-sm text-slate-300 print-text-gray font-medium">{{companyEmail}} | {{companyPhone}}</p>
            <div class="mt-6 flex items-center justify-center gap-4 text-xs text-slate-500 print-text-gray">
                <span>© 2024 Soft Synergy</span>
                <span>•</span>
                <span>Wszystkie prawa zastrzeżone</span>
            </div>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const observer = new IntersectionObserver((entries) => { 
                entries.forEach(entry => { 
                    if (entry.isIntersecting) { 
                        entry.target.classList.add('visible'); 
                        observer.unobserve(entry.target); 
                    } 
                }); 
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
        });

        function downloadHTML(event) {
            console.log('Funkcja downloadHTML została wywołana');
            
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'Przygotowuję...';
            button.disabled = true;
            
            try {
                const htmlContent = document.documentElement.outerHTML;
                const blob = new Blob([htmlContent], { type: 'text/html;charset=utf-8' });
                const downloadLink = document.createElement('a');
                downloadLink.href = URL.createObjectURL(blob);
                downloadLink.download = `zestawienie-pracy-{{summaryNumber}}-{{projectName}}.html`;
                document.body.appendChild(downloadLink);
                downloadLink.click();
                document.body.removeChild(downloadLink);
                
                button.textContent = originalText;
                button.disabled = false;
                
                setTimeout(() => {
                    button.textContent = 'Pobrano!';
                    setTimeout(() => {
                        button.textContent = originalText;
                    }, 1000);
                }, 500);
                
            } catch (error) {
                console.error('Błąd podczas pobierania HTML:', error);
                button.textContent = 'Błąd - spróbuj ponownie';
                button.disabled = false;
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.disabled = false;
                }, 3000);
            }
        }
    </script>
</body>
</html>

