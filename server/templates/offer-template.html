<!DOCTYPE html>
<html lang="pl" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oferta Projektowa dla {{clientName}} — Soft Synergy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #0d1117; color: #c9d1d9; overflow-x: hidden; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Sora', sans-serif; color: #f0f6fc; }
        .gradient-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 15% 25%, rgba(59, 130, 246, 0.1), transparent 30%), radial-gradient(circle at 85% 75%, rgba(168, 85, 247, 0.1), transparent 30%); animation: move-glow 15s ease-in-out infinite alternate; }
        @keyframes move-glow { from { background-position: 0% 0%; } to { background-position: 100% 100%; } }
        .glass-card { background: rgba(30, 41, 59, 0.5); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1rem; }
        @media print { .no-print { display: none !important; } body { background-color: white !important; color: black !important; } .print-bg-white { background-color: #f3f4f6 !important; border: 1px solid #e5e7eb; } .print-text-black { color: black !important; } .print-text-gray { color: #374151 !important; } h1, h2, h3, h4, h5, h6 { color: black !important; } .gradient-bg { display: none; } section { page-break-inside: avoid; } }
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.165, 0.84, 0.44, 1); }
        .reveal.visible { opacity: 1; transform: translateY(0); }
        .card-3d { transform-style: preserve-3d; transition: transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1); }
    </style>
</head>
<body class="antialiased">
    <div class="gradient-bg"></div>
    <div class="max-w-5xl mx-auto p-4 md:p-8 lg:p-12">
        
        <header class="glass-card p-8 mb-16 reveal">
            <div class="flex justify-between items-start flex-wrap gap-6">
                <div>
                    <h1 class="text-3xl font-extrabold">Soft<span class="text-blue-500">Synergy</span></h1>
                    <p class="text-slate-400 print-text-gray">Innovative Software Solutions</p>
                </div>
                <div class="text-left sm:text-right">
                    <h2 class="text-2xl font-bold text-blue-400">Oferta Projektowa</h2>
                    <p class="text-slate-400 print-text-gray">Data: <span class="font-semibold text-slate-300 print-text-black">{{offerDate}}</span></p>
                    <p class="text-slate-400 print-text-gray">Numer: <span class="font-semibold text-slate-300 print-text-black">{{offerNumber}}</span></p>
                </div>
            </div>
            <div class="border-t border-white/10 my-6"></div>
            <div>
                <span class="text-slate-400 print-text-gray">Dla:</span>
                <p class="text-xl font-bold">{{clientName}}</p>
                <p class="text-slate-300 print-text-gray">Do rąk: {{clientContact}}</p>
            </div>
        </header>

        <main class="space-y-24">
            
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-4">Szanowni Państwo,</h2>
                <div class="prose prose-invert max-w-none text-slate-300 text-lg leading-relaxed print-text-gray">
                    <p>Dziękujemy za poświęcony czas i inspirującą rozmowę na temat projektu <strong class="text-white print-text-black">{{projectName}}</strong>. W Soft Synergy rozumiemy, że Państwa celem jest nie tylko stworzenie aplikacji, ale strategiczne wzmocnienie pozycji rynkowej poprzez <strong class="text-white print-text-black">{{mainBenefit}}</strong>.</p>
                    <p>{{description}}</p>
                </div>
            </section>

            <!-- PROJECT GUARDIAN -->
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">Państwa Dedykowany Opiekun Projektu</h2>
                <div class="glass-card p-8 flex flex-col md:flex-row items-center gap-8 text-center md:text-left">
                    <div class="flex-shrink-0">
                        {{#if projectManager.avatar}}
                            <img src="http://oferty.soft-synergy.com/generated-offers/jakub%20czajka.jpeg" alt="Zdjęcie {{projectManager.name}}" class="rounded-full w-32 h-32 md:w-40 md:h-40 object-cover border-4 border-blue-500 shadow-lg">
                        {{else}}
                            <img src="https://i.pravatar.cc/150?u={{projectManager.name}}" alt="Zdjęcie {{projectManager.name}}" class="rounded-full w-32 h-32 md:w-40 md:h-40 object-cover border-4 border-blue-500 shadow-lg">
                        {{/if}}
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold">{{projectManager.name}}</h3>
                        <p class="text-blue-400 font-semibold mb-4">{{projectManager.position}}</p>
                        <p class="text-slate-300 mb-4 print-text-gray">{{projectManager.description}}</p>
                        <div class="flex justify-center md:justify-start gap-6 text-slate-400 no-print">
                            <a href="mailto:{{projectManager.email}}" class="flex items-center gap-2 hover:text-white transition-colors">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
                                <span>{{projectManager.email}}</span>
                            </a>
                            <a href="tel:{{projectManager.phone}}" class="flex items-center gap-2 hover:text-white transition-colors">
                                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.211-.998-.552-1.348l-5.116-4.423a1.125 1.125 0 00-1.554.269l-1.32 2.212a2.848 2.848 0 01-3.665-3.665l2.212-1.32a1.125 1.125 0 00.269-1.554l-4.423-5.116A1.125 1.125 0 006.128 2.25H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
                                <span>{{projectManager.phone}}</span>
                            </a>
                        </div>
                    </div>
                </div>
            </section>

            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">Proponowane Rozwiązanie i Zakres Prac</h2>
                <div class="space-y-8">
                    {{#each modules}}
                    <div class="glass-card p-6 flex items-start gap-6">
                        <div class="bg-{{#if color}}{{color}}{{else}}blue{{/if}}-500/20 text-{{#if color}}{{color}}{{else}}blue{{/if}}-400 font-bold text-2xl rounded-lg w-16 h-16 flex items-center justify-center flex-shrink-0">{{add @index 1}}</div>
                        <div>
                            <h3 class="text-xl font-bold mb-1">{{name}}</h3>
                            <p class="text-slate-400 print-text-gray">{{description}}</p>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </section>
            
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">Harmonogram Projektu</h2>
                <div class="grid md:grid-cols-4 gap-x-8 gap-y-12 relative">
                    <div class="absolute top-5 left-0 w-full h-0.5 bg-white/20 hidden md:block"></div>
                    <div class="text-center relative">
                        <div class="w-10 h-10 bg-slate-700 rounded-full mx-auto flex items-center justify-center border-2 border-blue-500 mb-2">
                            <span class="font-bold">1</span>
                        </div>
                        <h4 class="font-bold">{{timeline.phase1.name}}</h4>
                        <p class="text-sm text-slate-400 print-text-gray">{{timeline.phase1.duration}}</p>
                    </div>
                    <div class="text-center relative">
                        <div class="w-10 h-10 bg-slate-700 rounded-full mx-auto flex items-center justify-center border-2 border-slate-500 mb-2">
                            <span class="font-bold">2</span>
                        </div>
                        <h4 class="font-bold">{{timeline.phase2.name}}</h4>
                        <p class="text-sm text-slate-400 print-text-gray">{{timeline.phase2.duration}}</p>
                    </div>
                    <div class="text-center relative">
                        <div class="w-10 h-10 bg-slate-700 rounded-full mx-auto flex items-center justify-center border-2 border-slate-500 mb-2">
                            <span class="font-bold">3</span>
                        </div>
                        <h4 class="font-bold">{{timeline.phase3.name}}</h4>
                        <p class="text-sm text-slate-400 print-text-gray">{{timeline.phase3.duration}}</p>
                    </div>
                    <div class="text-center relative">
                        <div class="w-10 h-10 bg-slate-700 rounded-full mx-auto flex items-center justify-center border-2 border-slate-500 mb-2">
                            <span class="font-bold">4</span>
                        </div>
                        <h4 class="font-bold">{{timeline.phase4.name}}</h4>
                        <p class="text-sm text-slate-400 print-text-gray">{{timeline.phase4.duration}}</p>
                    </div>
                </div>
            </section>

            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">Inwestycja i Warunki Współpracy</h2>
                <div class="glass-card overflow-hidden print-bg-white">
                    <table class="w-full text-left">
                        <thead class="bg-white/5">
                            <tr>
                                <th class="p-5 font-semibold">Etap / Usługa</th>
                                <th class="p-5 text-right font-semibold">Koszt (PLN netto)</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/10">
                            <tr class="hover:bg-white/5">
                                <td class="p-5 font-medium print-text-gray">{{timeline.phase1.name}} & {{timeline.phase2.name}}</td>
                                <td class="p-5 text-right font-semibold text-slate-300 print-text-black">{{formatCurrency pricing.phase1}}</td>
                            </tr>
                            <tr class="hover:bg-white/5">
                                <td class="p-5 font-medium print-text-gray">{{timeline.phase3.name}}</td>
                                <td class="p-5 text-right font-semibold text-slate-300 print-text-black">{{formatCurrency pricing.phase3}}</td>
                            </tr>
                            <tr class="hover:bg-white/5">
                                <td class="p-5 font-medium print-text-gray">{{timeline.phase4.name}}</td>
                                <td class="p-5 text-right font-semibold text-slate-300 print-text-black">{{formatCurrency pricing.phase4}}</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr class="bg-blue-600/80">
                                <td class="p-5 text-right font-bold text-lg text-white">RAZEM (netto)</td>
                                <td class="p-5 text-right font-extrabold text-2xl text-white">{{formatCurrency pricing.total}}</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <div class="mt-8 grid md:grid-cols-2 gap-8">
                    <div class="glass-card p-6">
                        <h4 class="font-bold text-lg mb-2">Warunki Płatności</h4>
                        <p class="text-slate-400 print-text-gray">30% zaliczki po podpisaniu umowy.<br>70% po odbiorze końcowym projektu.</p>
                    </div>
                    <div class="glass-card p-6">
                        <h4 class="font-bold text-lg mb-2">Gwarancja i Wsparcie</h4>
                        <p class="text-slate-400 print-text-gray">Oferujemy 3 miesiące gwarancji na poprawę błędów po wdrożeniu oraz opcjonalne pakiety wsparcia technicznego.</p>
                    </div>
                </div>
            </section>
            
            {{#if portfolio}}
            <section class="reveal">
                <h2 class="text-3xl font-bold mb-8 text-center">Nasze Doświadczenie w Praktyce</h2>
                <div class="grid md:grid-cols-2 gap-8" style="perspective: 1000px;">
                    {{#each portfolio}}
                    <div class="card-3d group">
                        <div class="glass-card overflow-hidden transition-all duration-500 group-hover:shadow-2xl group-hover:shadow-blue-500/20">
                            <img src="http://oferty.soft-synergy.com{{image}}" alt="{{title}}" class="w-full h-56 object-cover transition-transform duration-500 group-hover:scale-105" onerror="this.src='https://via.placeholder.com/400x300?text=No+Image'">
                            <div class="p-6">
                                <h3 class="text-xl font-bold mb-1">{{title}}</h3>
                                <p class="text-slate-400 text-sm print-text-gray">{{description}}</p>
                            </div>
                        </div>
                    </div>
                    {{/each}}
                </div>
            </section>
            {{/if}}
            
            <section class="reveal text-center">
                <h2 class="text-3xl font-bold mb-4">Kolejne Kroki</h2>
                <p class="max-w-2xl mx-auto text-slate-300 mb-8 print-text-gray">Jesteśmy podekscytowani perspektywą współpracy. Oto jak możemy rozpocząć:</p>
                <ol class="text-left max-w-md mx-auto space-y-4 mb-12">
                    <li class="flex items-center gap-4">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 font-bold">1</span>
                        <span>Akceptacja oferty poprzez e-mail zwrotny.</span>
                    </li>
                    <li class="flex items-center gap-4">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-slate-700 font-bold">2</span>
                        <span>Podpisanie umowy ramowej o współpracy.</span>
                    </li>
                    <li class="flex items-center gap-4">
                        <span class="flex items-center justify-center w-8 h-8 rounded-full bg-slate-700 font-bold">3</span>
                        <span>Zaplanowanie warsztatu "kick-off" z Państwa opiekunem projektu.</span>
                    </li>
                </ol>
                <div class="flex flex-col md:flex-row justify-center items-center gap-6 no-print">
                    <a href="mailto:{{companyEmail}}?subject=Akceptacja oferty {{offerNumber}} dla {{clientName}}" class="w-full md:w-auto bg-blue-600 text-white font-bold text-lg py-3 px-8 rounded-lg transition-all duration-300 hover:bg-blue-500 hover:shadow-2xl hover:shadow-blue-500/40 transform hover:-translate-y-1">Akceptuję i rozpoczynam współpracę</a>
                    <button onclick="downloadPDF()" class="w-full md:w-auto bg-white/10 text-white font-semibold py-3 px-8 rounded-lg transition-colors hover:bg-white/20">Pobierz jako PDF</button>
                </div>
            </section>
        </main>
        
        <footer class="text-center py-12 mt-16 border-t border-white/10">
             <p class="font-bold print-text-black">Soft Synergy</p>
             <p class="text-sm text-slate-400 print-text-gray"> {{companyEmail}} | {{companyPhone}}</p>
        </footer>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const observer = new IntersectionObserver((entries) => { 
                entries.forEach(entry => { 
                    if (entry.isIntersecting) { 
                        entry.target.classList.add('visible'); 
                        observer.unobserve(entry.target); 
                    } 
                }); 
            }, { threshold: 0.1 });
            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
            const cards = document.querySelectorAll('.card-3d');
            cards.forEach(card => { 
                card.addEventListener('mousemove', (e) => { 
                    const rect = card.getBoundingClientRect(); 
                    const x = e.clientX - rect.left; 
                    const y = e.clientY - rect.top; 
                    const rotateX = ((y - rect.height / 2) / (rect.height / 2)) * -4; 
                    const rotateY = ((x - rect.width / 2) / (rect.width / 2)) * 4; 
                    card.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`; 
                }); 
                card.addEventListener('mouseleave', () => { 
                    card.style.transform = 'rotateX(0deg) rotateY(0deg)'; 
                }); 
            });
        });
        
        function downloadPDF() {
            // Get current URL and extract project ID
            const currentUrl = window.location.href;
            const projectId = currentUrl.split('/').pop().split('-')[1];
            
            // Create download link for PDF
            const pdfUrl = `http://oferty.soft-synergy.com/api/offers/download/${projectId}/pdf`;
            
            // Create temporary link and trigger download
            const link = document.createElement('a');
            link.href = pdfUrl;
            link.download = 'oferta.pdf';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html> 